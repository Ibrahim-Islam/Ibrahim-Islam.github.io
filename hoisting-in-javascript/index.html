<!DOCTYPE html>
<html>

	<head>

		
		<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		
		<title>Hoisting In Javascript</title>
		<meta name="description" content="" />
		
		<link rel="stylesheet" type="text/css" href="../assets/css/style.css" />
		<link rel="stylesheet" type="text/css" href="../assets/css/normalize.css" />

		<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,700,800|Exo+2:400,100,200,300,500,600,700,800' rel='stylesheet' type='text/css'>
		
		<meta name="HandheldFriendly" content="True" />
		<meta name="MobileOptimized" content="320" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="../assets/css/prism.css" rel="stylesheet"></link> 
		<meta name="generator" content="Ghost 0.5" />
<link rel="alternate" type="application/rss+xml" title="" href="../rss/index.html">
<link rel="canonical" href="http://my-ghost-blog.com/hoisting-in-javascript/" />

	</head>

	<body class="post-template tag-javascript">

		<div class="wrapper_pixel">

			

<div role='banner' class="header_pixel">

	<div class="menu_list">
		<a class="menu_item" href="http://bd.linkedin.com/in/mdibrahimislam/">LinkedIn</a>
		<a class="menu_item" href="http://stackoverflow.com/users/1565402/md-lbrahim">StackOverflow</a>
		<a class="menu_item" href="http://forums.asp.net/members/IbrahimIslam.aspx">ASP.NET</a>
		<a class="menu_item" href="https://github.com/Ibrahim-Islam">GitHub</a>
		<a class="menu_item" href="mailto:ibrahim.islam@live.com">Email</a>
	</div>

	<a class="" href="../index.html"><img class="cover_pixel" src="../content/images/2014/Sep/cover.png" alt="" /></a>

	<h1 class="blogtitle_pixel">

		<a title="" href='http://my-ghost-blog.com'>

			

		</a>

	</h1>

	<p class="blogdescription_pixel">

		<a title="" href='http://my-ghost-blog.com'>

			

		</a>

	</p>

</div>

<main class="main_pixel post" role="main">

	
		
		<div id="trampezium"></div>

		<article class="article_pixel" role="article" itemscope itemtype="http://schema.org/Article" style="display:table;">
		
			<header class="postheader_pixel">

				<time class="date_pixel" datetime="2014-09-12" itemprop="datePublished">

					<span class="icon-clock"></span>Friday 12 Sep 2014

				</time>

				<h1 class="posttitle_pixel" itemprop="headline">

					Hoisting In Javascript

				</h1>
				
			</header>

			<div class="postcontent_pixel" itemprop="articleBody">

				<p>A rather unknown topic of Javascript is <strong>Hoisting</strong>. The Javascript compiler does not execute code as we write it. Hoisting is its way of re-arranging our code before executing it which is making declerations and taking it to the top of current scope. So, below code snippet:</p>

<pre><code class="language-javascript">function SumSquare(a, b) {  
    var x = add(a * a, b * b);
    return x;

    function add(c, d) {
        var a = c + d;
        return a;
    }
}
</code></pre>

<p>Interpreted as:</p>

<pre><code class="language-javascript">function SumSquare(a, b) {  
    var x = undefined;

    function add(c, d) {
        var a = c + d;
        return a;
    }

    x = add(a * a, b * b);
    return x;
}
</code></pre>

<p>As we can see, JS did the following:</p>

<ul>
<li>Declared variables</li>
<li>Hoisted declerations to the top of current scope</li>
<li>Hoisted declared/named functions to the top</li>
</ul>

<p>But same cannot be said for <em>function assignments</em> :</p>

<pre><code class="language-javascript">function Random() {  
    var random = function(){
        return 10;
    };

    return random;

    var random = function (){
        return 9;
    };
}
</code></pre>

<p>Will become:</p>

<pre><code class="language-javascript">function Random() {  
    var random = undefined; //will be overwritten by 2nd random
    var random = undefined;

    var random = function(){
        return 10;
    };

    return random;

    //unreachable
    var random = function (){
        return 9;
    };
}
</code></pre>

<p>This is what happened:</p>

<ul>
<li>Function assignments did not get hoisted because assignments are not hoisted</li>
<li>Variables with same identifier gets overwritten by the last one</li>
<li>Second <code>random</code> function will not be reached because of <code>return</code></li>
</ul>

<p>Lets go through another complex one for fun:</p>

<pre><code class="language-javascript">function theBridgeOfHoistingDoom() {  
    function fellowship() {
        return "friends";
    }
    var sword = "sting";
    var dwarf = function () {
        return "axe";
    };
    var fall = "Fly you fools!";
    fellowship = function () {
        return "broken";
    };
    ring();
    return sword;
    fellowship = function () {
        return "mines"
    };
    sword = function () {
        return "glamdring";
    };
    var ring = function () {
        return "precious";
    };
}   
</code></pre>

<p>Will become:</p>

<pre><code class="language-javascript">function theBridgeOfHoistingDoom() {  
    var sword = undefined;
    var dwarf = undefined;
    var fall = undefined;
    var ring = undefined;

    function fellowship(){
        return "friends";
    }
    sword = "sting";
    dwarf = function () {
        return "axe";
    };
    fall = "Fly you fools!";
    fellowship = function () {
        return "broken";
    };

    ring();
    return sword;

    //unreachable
    fellowship = function () {
        return "mines"
    };
    sword = function () {
        return "glamdring";
    };
    ring = function () {
        return "precious";
    };
}
</code></pre>

<p>Things happened above:</p>

<ul>
<li>Variable declerations</li>
<li>Variables hoisted</li>
<li>No decleration for <code>fellowship</code> because it was a already named/declared function so it will just be overwritten/re-assigned.</li>
</ul>

<hr />

<p>Due to the reasons how javascript hoisting works, we should always declare variables at the top of its scope to prevent getting unexpected results and in addition to that always use <code>"use strict;"</code> on all our scripts (.js) to enforce more checks.</p>

<p>This was my learning when I went through <a href="http://127.0.0.1:2368/hoisting-in-javascript/www.codeschool.com">CodeSchool</a> Javascript course followed by some additional reading online.</p>

			</div>

			
			
				<div class="posttags_pixel">

					<p><span class="icon-tag"></span> <a href="../tag/javascript/index.html">javascript</a></p>

				</div>

			

			

		</article>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'dev-ibrahim'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	

	

</main>

<footer class="footer_pixel">

	<p class="subscribe_pixel"><a class="icon-rss" target="_blank" href="../rss/index.html">

	</a></p>

	<div class="footertext_pixel">

		<p>All content copyright <a href="../index.html"></a> &copy; 2013 &bull; All rights reserved.</p>

	</div>

	<div class="footertext_pixel">

		<p>Proudly published with <a class="icon-ghost" href="http://tryghost.org" target="_blank">Ghost</a></p>
		<p>Theme: <a class="icon-github-circled" href="https://github.com/Skepton/Pixelpusher"></a></p>

	</div>

</footer>

		</div>

		<script src="../public/jquery.js"></script>
		<script src="../assets/js/prism.js"></script>
		<script src="../assets/js/fittext.js"></script>

		

		

		<script type="text/javascript">

			$(window).load(function(){

				if($('.postcontent_pixel p').eq(0).find('img').length){

					$('.postcontent_pixel p').eq(0).find('img').hide();

				}

			});

			$(document).ready(function(){

				if($('.postcontent_pixel p').eq(0).find('img').length){

					var source = $('.postcontent_pixel p').eq(0).find('img').attr('src');

					if($('.cover_pixel').length <= 0){

						$('.header_pixel').append('<img class="cover_pixel" src="http://127.0.0.1:2368/hoisting-in-javascript/'+source+'" alt="header">');

					}else{

						$('.cover_pixel').attr('src', source);

					}

					$('.postcontent_pixel p').eq(0).remove();

				}

				$('.blogdescription_pixel').remove();
				$('.blogtitle_pixel a').remove();

				$(".article_pixel img").load(function() {

					$(window).trigger('resize');
				  
				}).each(function() {

				  if(this.complete) $(this).load();

				});

				(function($) {
					// Responsive videos
					var all_videos = $( 'iframe[src^="http://player.vimeo.com"], iframe[src^="http://www.youtube.com"], iframe[src^="//www.youtube.com"], object, embed' );

					all_videos.each(function() {
						var el = $(this);

						el
							.attr( 'data-aspectRatio', el.height() / el.width() )
							.attr( 'data-oldWidth', el.attr( 'width' ) );
					} );
					
					$(window)
						.resize( function() {
							all_videos.each( function() {
								var el = $(this),
									newWidth = el.parents( '.postcontent_pixel' ).innerWidth(),
									oldWidth = el.attr( 'data-oldWidth' );
									el
										.removeAttr( 'height' )
										.removeAttr( 'width' )
										.width( newWidth )
								    		.height( newWidth * el.attr( 'data-aspectRatio' ) );
							} );
						} )
						.resize();
				})(jQuery);

				$(window).trigger('resize');

			});

			$(window).resize(function(){

				if($('.wrapper_pixel').height()<$(window).height()-$('.footer_pixel').height()){

					$('.footer_pixel').css('position','absolute');

				}else{$('.footer_pixel').css('position','relative');}

				$('.cover_pixel').on('load',function(){

					var header_height = $(this).height();
					var parent_height = $('.header_pixel').outerHeight();

					var height_complete = '-'+(header_height-parent_height)/2+'px';

					if((header_height-parent_height)/2 <= 0){height_complete = '0px';}

					$(this).css('margin-top',height_complete);

				}).each(function() {

					if(this.complete) $(this).load();

				});

				$('.postfooter_pixel address').css('height',$('.authorbio_pixel').outerHeight());
				$('.sharepost_pixel').css('height',$('.authorbio_pixel').outerHeight());

				jQuery(".postheader_pixel h1").fitText(1.1, { minFontSize: '40px', maxFontSize: '90px' });

			});

			$(window).scroll(function(){

				if($(this).scrollTop() > 50 && $(window).width() > 500 && $(window).height() > 500){
			
					jQuery(".blogtitle_pixel a").fitText(1.5, { minFontSize: '20px', maxFontSize: '32px' });

					$('.article_pixel').css('margin-top',$('.header_pixel').height()+230);

					$('.header_pixel').addClass('small');

					$('.article_pixel').css('margin-top',$('.header_pixel').height()+230);


				}else if($(this).scrollTop() <= 50){

					jQuery(".blogtitle_pixel a").fitText(1.2, { minFontSize: '20px', maxFontSize: '75px' });

					$('.article_pixel').css('margin-top',0);

					$('.header_pixel').removeClass('small');

				}

			});

		</script>

		

		<script type="text/javascript">

			$(document).ready(function(){

				$(window).trigger('resize');

				$(document).trigger('scroll');

				jQuery(".blogtitle_pixel a").fitText(1.2, { minFontSize: '20px', maxFontSize: '75px' });

			});

		</script>

	</body>
	

</html>